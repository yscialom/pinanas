---
#
## network
#
host: 0.0.0.0
port: 9091

default_redirection_url: https://dashboard.{{ PINANAS_DOMAIN }}/

#
## system
#
log_level: debug

server:
  read_buffer_size: 4096
  write_buffer_size: 4096
  path: ""

#
## userland
#
theme: dark

#
## security
#
access_control:
  default_policy: deny
  rules:
    #
    ## === ADMIN SERVICES ===
    #

    # Reverse Proxy: Traefik
    - domain: traefik-dashboard.home.scialom.org
      policy: two_factor
      subject:
      - "group:admins"


jwt_secret: "{{ PINANAS_SECRET_AUTHELIA_JWT }}"

totp:
  issuer: authelia.com
  period: 30
  skew: 1

authentication_backend:
  disable_reset_password: false
  refresh_interval: 5m
  file:
    path: /config/users_database.yml
    password:
      algorithm: argon2id
      iterations: 1
      key_length: 32
      salt_length: 16
      memory: 64
      parallelism: 8

session:
  name: authelia_session
  domain: {{ PINANAS_DOMAIN }}
  same_site: lax
  secret: {{ PINANAS_SECRET_AUTHELIA_SESSION }}
  expiration: 2h
  inactivity: 15m
  remember_me_duration: 1M

regulation:
  max_retries: 5
  find_time: 2m
  ban_time: 5m

storage:
  local:
    path: /config/db.sqlite3

notifier:
  disable_startup_check: true
  smtp:
    username: {{ PINANAS_SMTP_USERNAME }}
    password: {{ PINANAS_SMTP_PASSWORD }}
    sender: {{ PINANAS_SMTP_SENDER }}
    host: {{ PINANAS_SMTP_HOST }}
    port: {{ PINANAS_SMTP_PORT }}
